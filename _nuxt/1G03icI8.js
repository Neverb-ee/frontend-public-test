import{I as k,b as y,c as S,D as w,d as _,o as B,w as F,r as T,n as P,p as M,P as V,x as b,y as E,bx as q,a1 as H}from"./BlIjFL2F.js";import{e as N}from"./DKB_qngW.js";const[U,$]=k("DashboardGroup"),A={base:"hidden lg:block touch-none select-none cursor-ew-resize relative before:absolute before:inset-y-0 before:-left-1.5 before:-right-1.5"},j={__name:"DashboardResizeHandle",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(d){const f=d,n=y(),o=S(()=>{var e;return w({extend:w(A),...((e=n.uiPro)==null?void 0:e.dashboardResizeHandle)||{}})});return(e,g)=>(B(),_(M(V),{as:d.as,role:"separator",class:P(o.value({class:f.class}))},{default:F(()=>[T(e.$slots,"default")]),_:3},8,["as","class"]))}},J=(d,f={},{collapsed:n=b(!1)}={})=>{const o=b(null),e=S(()=>({side:"left",minSize:0,maxSize:100,defaultSize:0,storage:"cookie",persistent:!0,collapsible:!1,collapsedSize:0,resizable:!0,unit:"%",...E(f)?f.value:f})),g={size:e.value.defaultSize,collapsed:M(n)??!1},i=e.value.persistent&&(e.value.resizable||e.value.collapsible)?e.value.storage==="cookie"?q(d,{default:()=>g}):N(d,g):b(g),r=S({get:()=>i.value.collapsed,set:t=>{e.value.collapsible&&(E(n)&&(n.value=t),i.value.collapsed=t)}}),C=b(e.value.defaultSize),m=S({get:()=>i.value.size,set:t=>{i.value.size=t}}),D=S(()=>r.value?e.value.collapsedSize:m.value),p=b(!1),L=(t,a,c)=>{var z;if(!o.value||!e.value.resizable)return;const v=((z=o.value.parentElement)==null?void 0:z.offsetWidth)||1,u=e.value.side==="left"?t.clientX-a:a-t.clientX,l=c+u;let s;if(e.value.unit==="rem"){const x=Number.parseFloat(getComputedStyle(document.documentElement).fontSize);s=l/x}else e.value.unit==="px"?s=l:s=l/v*100;if(e.value.collapsible&&s<e.value.collapsedSize+4){h(!0);return}else r.value&&h(!1);m.value=Math.min(e.value.maxSize,Math.max(e.value.minSize,s))},X=t=>{if(!o.value||!e.value.resizable)return;t.preventDefault(),t.stopPropagation();const a=o.value.getBoundingClientRect().width;if(!a)return;const c=t.clientX,v=a;p.value=!0;const u=s=>{L(s,c,v)},l=()=>{p.value=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",l)},R=(t,a,c)=>{var z;if(!o.value||!e.value.resizable||!t.touches[0])return;const v=((z=o.value.parentElement)==null?void 0:z.offsetWidth)||1,u=e.value.side==="left"?t.touches[0].clientX-a:a-t.touches[0].clientX,l=c+u;let s;if(e.value.unit==="rem"){const x=Number.parseFloat(getComputedStyle(document.documentElement).fontSize);s=l/x}else e.value.unit==="px"?s=l:s=l/v*100;if(e.value.collapsible&&s<e.value.collapsedSize+4){h(!0);return}else r.value&&h(!1);m.value=Math.min(e.value.maxSize,Math.max(e.value.minSize,s))},W=t=>{if(!o.value||!e.value.resizable||!t.touches[0])return;t.preventDefault(),t.stopPropagation();const a=o.value.getBoundingClientRect().width;if(!a)return;const c=t.touches[0].clientX,v=a;p.value=!0;const u=s=>{R(s,c,v)},l=()=>{p.value=!1,document.removeEventListener("touchmove",u),document.removeEventListener("touchend",l),document.removeEventListener("touchcancel",l)};document.addEventListener("touchmove",u,{passive:!1}),document.addEventListener("touchend",l),document.addEventListener("touchcancel",l)},h=t=>{if(!e.value.collapsible)return;const a=t??!r.value;a&&!r.value?C.value=m.value:!a&&r.value&&(m.value=C.value),r.value=a};return E(n)&&i.value.collapsed&&(n.value=i.value.collapsed),E(n)&&H(n,t=>{e.value.collapsible&&i.value.collapsed!==t&&(i.value.collapsed=t)}),{el:o,size:D,isDragging:p,isCollapsed:r,onMouseDown:X,onTouchStart:W,collapse:h}};export{j as _,J as a,$ as p,U as u};
