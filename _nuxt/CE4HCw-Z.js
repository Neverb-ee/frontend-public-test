import{ag as g,bm as q,x as E,q as H,M as G,z as U,a2 as F,b0 as D,bn as b,L as R,bo as T,bp as X,bq as J,br as O,bs as k,d as N,o as I,w as Y,r as V,p as L,P as W,bt as Q,a1 as $,K as Z,ad as ee,a_ as te,c as C,bu as ne,a8 as re,al as ae,bv as K,a$ as se,b9 as oe,bw as ue,G as ie,b as ce,t as M,i as le,j as de,n as fe}from"./BlIjFL2F.js";const Be="menu.itemSelect",B=["Enter"," "],pe=["ArrowDown","PageUp","Home"],ve=["ArrowUp","PageDown","End"],Pe=[...pe,...ve],Ue={ltr:[...B,"ArrowRight"],rtl:[...B,"ArrowLeft"]},De={ltr:["ArrowLeft"],rtl:["ArrowRight"]};function Re(e){return e?"open":"closed"}function me(e){return e==="indeterminate"}function Ne(e){return me(e)?"indeterminate":e?"checked":"unchecked"}function Ie(e){const t=g();for(const n of e)if(n===t||(n.focus(),g()!==t))return}function he(e,t){const{x:n,y:r}=e;let u=!1;for(let c=0,l=t.length-1;c<t.length;l=c++){const d=t[c].x,i=t[c].y,f=t[l].x,o=t[l].y;i>r!=o>r&&n<(f-d)*(r-i)/(o-i)+d&&(u=!u)}return u}function Ye(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return he(n,t)}function Ve(e){return e.pointerType==="mouse"}const ye=q(()=>E([]));function ge(){const e=ye();return{add(t){const n=e.value[0];t!==n&&(n==null||n.pause()),e.value=P(e.value,t),e.value.unshift(t)},remove(t){var n;e.value=P(e.value,t),(n=e.value[0])==null||n.resume()}}}function P(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function be(e){return e.filter(t=>t.tagName!=="A")}const We=H({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,r=t,{currentRef:u,currentElement:c}=G(),l=E(null),d=ge(),i=U({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});F(o=>{if(!D)return;const a=c.value;if(!n.trapped)return;function s(h){if(i.paused||!a)return;const y=h.target;a.contains(y)?l.value=y:b(l.value,{select:!0})}function v(h){if(i.paused||!a)return;const y=h.relatedTarget;y!==null&&(a.contains(y)||b(l.value,{select:!0}))}function p(h){a.contains(l.value)||b(a)}document.addEventListener("focusin",s),document.addEventListener("focusout",v);const m=new MutationObserver(p);a&&m.observe(a,{childList:!0,subtree:!0}),o(()=>{document.removeEventListener("focusin",s),document.removeEventListener("focusout",v),m.disconnect()})}),F(async o=>{const a=c.value;if(await R(),!a)return;d.add(i);const s=g();if(!a.contains(s)){const p=new CustomEvent(T,k);a.addEventListener(T,m=>r("mountAutoFocus",m)),a.dispatchEvent(p),p.defaultPrevented||(X(be(J(a)),{select:!0}),g()===s&&b(a))}o(()=>{a.removeEventListener(T,h=>r("mountAutoFocus",h));const p=new CustomEvent(O,k),m=h=>{r("unmountAutoFocus",h)};a.addEventListener(O,m),a.dispatchEvent(p),setTimeout(()=>{p.defaultPrevented||b(s??document.body,{select:!0}),a.removeEventListener(O,m),d.remove(i)},0)})});function f(o){if(!n.loop&&!n.trapped||i.paused)return;const a=o.key==="Tab"&&!o.altKey&&!o.ctrlKey&&!o.metaKey,s=g();if(a&&s){const v=o.currentTarget,[p,m]=Q(v);p&&m?!o.shiftKey&&s===m?(o.preventDefault(),n.loop&&b(p,{select:!0})):o.shiftKey&&s===p&&(o.preventDefault(),n.loop&&b(m,{select:!0})):s===v&&o.preventDefault()}}return(o,a)=>(I(),N(L(W),{ref_key:"currentRef",ref:u,tabindex:"-1","as-child":o.asChild,as:o.as,onKeydown:f},{default:Y(()=>[V(o.$slots,"default")]),_:3},8,["as-child","as"]))}});var we=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},w=new WeakMap,S=new WeakMap,A={},_=0,z=function(e){return e&&(e.host||z(e.parentNode))},Ee=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=z(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Se=function(e,t,n,r){var u=Ee(t,Array.isArray(e)?e:[e]);A[n]||(A[n]=new WeakMap);var c=A[n],l=[],d=new Set,i=new Set(u),f=function(a){!a||d.has(a)||(d.add(a),f(a.parentNode))};u.forEach(f);var o=function(a){!a||i.has(a)||Array.prototype.forEach.call(a.children,function(s){if(d.has(s))o(s);else try{var v=s.getAttribute(r),p=v!==null&&v!=="false",m=(w.get(s)||0)+1,h=(c.get(s)||0)+1;w.set(s,m),c.set(s,h),l.push(s),m===1&&p&&S.set(s,!0),h===1&&s.setAttribute(n,"true"),p||s.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",s,y)}})};return o(t),d.clear(),_++,function(){l.forEach(function(a){var s=w.get(a)-1,v=c.get(a)-1;w.set(a,s),c.set(a,v),s||(S.has(a)||a.removeAttribute(r),S.delete(a)),v||a.removeAttribute(n)}),_--,_||(w=new WeakMap,w=new WeakMap,S=new WeakMap,A={})}},Ae=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),u=we(e);return u?(r.push.apply(r,Array.from(u.querySelectorAll("[aria-live]"))),Se(r,u,n,"aria-hidden")):function(){return null}};function $e(e){let t;$(()=>ee(e),n=>{n?t=Ae(n):t&&t()}),Z(()=>{t&&t()})}const xe=te(()=>{const e=E(new Map),t=E(),n=C(()=>{for(const l of e.value.values())if(l)return!0;return!1}),r=re({scrollBody:E(!0)});let u=null;const c=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",K&&(u==null||u()),t.value=void 0};return $(n,(l,d)=>{var a;if(!D)return;if(!l){d&&c();return}t.value===void 0&&(t.value=document.body.style.overflow);const i=window.innerWidth-document.documentElement.clientWidth,f={padding:i,margin:0},o=(a=r.scrollBody)!=null&&a.value?typeof r.scrollBody.value=="object"?ae({padding:r.scrollBody.value.padding===!0?i:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?i:r.scrollBody.value.margin},f):f:{padding:0,margin:0};i>0&&(document.body.style.paddingRight=typeof o.padding=="number"?`${o.padding}px`:String(o.padding),document.body.style.marginRight=typeof o.margin=="number"?`${o.margin}px`:String(o.margin),document.body.style.setProperty("--scrollbar-width",`${i}px`),document.body.style.overflow="hidden"),K&&(u=se(document,"touchmove",s=>Ce(s),{passive:!1})),R(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function ze(e){const t=Math.random().toString(36).substring(2,7),n=xe();n.value.set(t,e??!1);const r=C({get:()=>n.value.get(t)??!1,set:u=>n.value.set(t,u)});return ne(()=>{n.value.delete(t)}),r}function j(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:j(n)}}function Ce(e){const t=e||window.event,n=t.target;return n instanceof Element&&j(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}const je="rovingFocusGroup.onEntryFocus",qe={bubbles:!1,cancelable:!0},Te={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Oe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function He(e,t,n){const r=Oe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Te[r]}function Ge(e,t=!1){const n=g();for(const r of e)if(r===n||(r.focus({preventScroll:t}),g()!==n))return}function Xe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Je(e){const t=oe("",1e3);return{search:t,handleTypeaheadSearch:(u,c)=>{t.value=t.value+u;{const l=g(),d=c.map(s=>{var v,p;return{...s,textValue:((v=s.value)==null?void 0:v.textValue)??((p=s.ref.textContent)==null?void 0:p.trim())??""}}),i=d.find(s=>s.ref===l),f=d.map(s=>s.textValue),o=Le(f,t.value,i==null?void 0:i.textValue),a=d.find(s=>s.textValue===o);return a&&a.ref.focus(),a==null?void 0:a.ref}},resetTypeahead:()=>{t.value=""}}}function _e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Le(e,t,n){const u=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,c=n?e.indexOf(n):-1;let l=_e(e,Math.max(c,0));u.length===1&&(l=l.filter(f=>f!==n));const i=l.find(f=>f.toLowerCase().startsWith(u.toLowerCase()));return i!==n?i:void 0}const x={meta:"",ctrl:"",alt:"",win:"⊞",command:"⌘",shift:"⇧",control:"⌃",option:"⌥",enter:"↵",delete:"⌦",backspace:"⌫",escape:"⎋",tab:"⇥",capslock:"⇪",arrowup:"↑",arrowright:"→",arrowdown:"↓",arrowleft:"←",pageup:"⇞",pagedown:"⇟",home:"↖",end:"↘"},Fe=()=>{const e=C(()=>navigator&&navigator.userAgent&&navigator.userAgent.match(/Macintosh;/)),t=U({meta:" ",alt:" ",ctrl:" "});ie(()=>{t.meta=e.value?x.command:"Ctrl",t.ctrl=e.value?x.control:"Ctrl",t.alt=e.value?x.option:"Alt"});function n(r){if(r)return["meta","alt","ctrl"].includes(r)?t[r]:x[r]||r.toUpperCase()}return{macOS:e,getKbdKey:n}},ke=ue(Fe),Ke={base:"inline-flex items-center justify-center px-1 rounded-sm font-medium font-sans",variants:{variant:{solid:"bg-inverted text-inverted",outline:"bg-default text-highlighted ring ring-inset ring-accented",subtle:"bg-elevated text-default ring ring-inset ring-accented"},size:{sm:"h-4 min-w-[16px] text-[10px]",md:"h-5 min-w-[20px] text-[11px]",lg:"h-6 min-w-[24px] text-[12px]"}},defaultVariants:{variant:"outline",size:"md"}},Qe={__name:"Kbd",props:{as:{type:null,required:!1,default:"kbd"},value:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,{getKbdKey:n}=ke(),r=ce(),u=C(()=>{var c;return M({extend:M(Ke),...((c=r.ui)==null?void 0:c.kbd)||{}})});return(c,l)=>(I(),N(L(W),{as:e.as,class:fe(u.value({variant:e.variant,size:e.size,class:t.class}))},{default:Y(()=>[V(c.$slots,"default",{},()=>[le(de(L(n)(e.value)),1)])]),_:3},8,["as","class"]))}};export{je as E,Pe as F,Be as I,ve as L,B as S,Qe as _,$e as a,Je as b,We as c,Ie as d,qe as e,Ge as f,He as g,Re as h,Ye as i,Ve as j,Ne as k,me as l,De as m,Ue as n,ke as o,ze as u,Xe as w};
