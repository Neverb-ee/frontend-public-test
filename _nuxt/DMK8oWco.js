import{q as O,I as ee,N as te,x as I,S as se,r as d,p as e,M as B,d as c,o as i,w as u,m as $,P as w,G as W,ag as H,s as _,ac as oe,b1 as T,R as X,g as b,T as M,U as S,ai as ae,u as ne,a as le,b as ie,a5 as re,Y as ue,aj as de,ak as U,c as G,t as Y,n as h,bc as ce,a9 as pe,i as F,j as A,f as q,e as fe,l as me}from"./BlIjFL2F.js";import{u as K}from"./CQY1qECW.js";import{h as ve,c as ye,a as ge,u as be}from"./CE4HCw-Z.js";const[C,$e]=ee("DialogRoot"),Oe=O({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(o,{emit:l}){const t=o,s=te(t,"open",l,{defaultValue:t.defaultOpen,passive:t.open===void 0}),m=I(),g=I(),{modal:f}=se(t);return $e({open:s,modal:f,openModal:()=>{s.value=!0},onOpenChange:r=>{s.value=r},onOpenToggle:()=>{s.value=!s.value},contentId:"",titleId:"",descriptionId:"",triggerElement:m,contentElement:g}),(r,n)=>d(r.$slots,"default",{open:e(s)})}}),Be=O({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(o){const l=o;B();const t=C();return(a,s)=>(i(),c(e(w),$(l,{type:a.as==="button"?"button":void 0,onClick:s[0]||(s[0]=m=>e(t).onOpenChange(!1))}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["type"]))}}),Z=O({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const t=o,a=l,s=C(),{forwardRef:m,currentElement:g}=B();return s.titleId||(s.titleId=K(void 0,"reka-dialog-title")),s.descriptionId||(s.descriptionId=K(void 0,"reka-dialog-description")),W(()=>{s.contentElement=g,H()!==document.body&&(s.triggerElement.value=H())}),(f,r)=>(i(),c(e(ye),{"as-child":"",loop:"",trapped:t.trapFocus,onMountAutoFocus:r[5]||(r[5]=n=>a("openAutoFocus",n)),onUnmountAutoFocus:r[6]||(r[6]=n=>a("closeAutoFocus",n))},{default:u(()=>[_(e(oe),$({id:e(s).contentId,ref:e(m),as:f.as,"as-child":f.asChild,"disable-outside-pointer-events":f.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(s).descriptionId,"aria-labelledby":e(s).titleId,"data-state":e(ve)(e(s).open.value)},f.$attrs,{onDismiss:r[0]||(r[0]=n=>e(s).onOpenChange(!1)),onEscapeKeyDown:r[1]||(r[1]=n=>a("escapeKeyDown",n)),onFocusOutside:r[2]||(r[2]=n=>a("focusOutside",n)),onInteractOutside:r[3]||(r[3]=n=>a("interactOutside",n)),onPointerDownOutside:r[4]||(r[4]=n=>a("pointerDownOutside",n))}),{default:u(()=>[d(f.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),Ce=O({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const t=o,a=l,s=C(),m=T(a),{forwardRef:g,currentElement:f}=B();return ge(f),(r,n)=>(i(),c(Z,$({...t,...e(m)},{ref:e(g),"trap-focus":e(s).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:n[0]||(n[0]=v=>{var p;v.defaultPrevented||(v.preventDefault(),(p=e(s).triggerElement.value)==null||p.focus())}),onPointerDownOutside:n[1]||(n[1]=v=>{const p=v.detail.originalEvent,y=p.button===0&&p.ctrlKey===!0;(p.button===2||y)&&v.preventDefault()}),onFocusOutside:n[2]||(n[2]=v=>{v.preventDefault()})}),{default:u(()=>[d(r.$slots,"default")]),_:3},16,["trap-focus"]))}}),De=O({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const t=o,s=T(l);B();const m=C(),g=I(!1),f=I(!1);return(r,n)=>(i(),c(Z,$({...t,...e(s)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:n[0]||(n[0]=v=>{var p;v.defaultPrevented||(g.value||(p=e(m).triggerElement.value)==null||p.focus(),v.preventDefault()),g.value=!1,f.value=!1}),onInteractOutside:n[1]||(n[1]=v=>{var D;v.defaultPrevented||(g.value=!0,v.detail.originalEvent.type==="pointerdown"&&(f.value=!0));const p=v.target;((D=e(m).triggerElement.value)==null?void 0:D.contains(p))&&v.preventDefault(),v.detail.originalEvent.type==="focusin"&&f.value&&v.preventDefault()})}),{default:u(()=>[d(r.$slots,"default")]),_:3},16))}}),he=O({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const t=o,a=l,s=C(),m=T(a),{forwardRef:g}=B();return(f,r)=>(i(),c(e(X),{present:f.forceMount||e(s).open.value},{default:u(()=>[e(s).modal.value?(i(),c(Ce,$({key:0,ref:e(g)},{...t,...e(m),...f.$attrs}),{default:u(()=>[d(f.$slots,"default")]),_:3},16)):(i(),c(De,$({key:1,ref:e(g)},{...t,...e(m),...f.$attrs}),{default:u(()=>[d(f.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),J=O({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{default:"p"}},setup(o){const l=o;B();const t=C();return(a,s)=>(i(),c(e(w),$(l,{id:e(t).descriptionId}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["id"]))}}),we=O({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(o){const l=C();return be(!0),B(),(t,a)=>(i(),c(e(w),{as:t.as,"as-child":t.asChild,"data-state":e(l).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:u(()=>[d(t.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),ke=O({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(o){const l=C(),{forwardRef:t}=B();return(a,s)=>{var m;return(m=e(l))!=null&&m.modal.value?(i(),c(e(X),{key:0,present:a.forceMount||e(l).open.value},{default:u(()=>[_(we,$(a.$attrs,{ref:e(t),as:a.as,"as-child":a.asChild}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):b("",!0)}}}),Q=O({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(o){const l=o,t=C();return B(),(a,s)=>(i(),c(e(w),$(l,{id:e(t).titleId}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["id"]))}}),Ee=O({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(o){const l=o,t=C(),{forwardRef:a,currentElement:s}=B();return t.contentId||(t.contentId=K(void 0,"reka-dialog-content")),W(()=>{t.triggerElement.value=s.value}),(m,g)=>(i(),c(e(w),$(l,{ref:e(a),type:m.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value||!1,"aria-controls":e(t).open.value?e(t).contentId:void 0,"data-state":e(t).open.value?"open":"closed",onClick:e(t).onOpenToggle}),{default:u(()=>[d(m.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),Pe=O({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(o){const l=o;return(t,a)=>(i(),c(e(ae),M(S(l)),{default:u(()=>[d(t.$slots,"default")]),_:3},16))}}),Fe={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default"}}}},Re={__name:"Modal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","close:prevent","update:open"],setup(o,{emit:l}){const t=o,a=l,s=ne(),{t:m}=le(),g=ie(),f=re(ue(t,"open","defaultOpen","modal"),a),r=de(U(()=>t.portal)),n=U(()=>t.content),v=G(()=>{const y={closeAutoFocus:D=>D.preventDefault()};return t.dismissible?y:["pointerDownOutside","interactOutside","escapeKeyDown","closeAutoFocus"].reduce((k,E)=>(k[E]=P=>{P.preventDefault(),a("close:prevent")},k),{})}),p=G(()=>{var y;return Y({extend:Y(Fe),...((y=g.ui)==null?void 0:y.modal)||{}})({transition:t.transition,fullscreen:t.fullscreen})});return(y,D)=>(i(),c(e(Oe),M(S(e(f))),{default:u(({open:k})=>[s.default?(i(),c(e(Ee),{key:0,"as-child":"",class:h(t.class)},{default:u(()=>[d(y.$slots,"default",{open:k})]),_:2},1032,["class"])):b("",!0),_(e(Pe),M(S(e(r))),{default:u(()=>{var E,P;return[o.overlay?(i(),c(e(ke),{key:0,class:h(p.value.overlay({class:(E=t.ui)==null?void 0:E.overlay}))},null,8,["class"])):b("",!0),_(e(he),$({class:p.value.content({class:[!s.default&&t.class,(P=t.ui)==null?void 0:P.content]})},n.value,{onAfterLeave:D[0]||(D[0]=R=>a("after:leave"))},ce(v.value)),{default:u(()=>[s.content&&(o.title||s.title||o.description||s.description)?(i(),c(e(pe),{key:0},{default:u(()=>[o.title||s.title?(i(),c(e(Q),{key:0},{default:u(()=>[d(y.$slots,"title",{},()=>[F(A(o.title),1)])]),_:3})):b("",!0),o.description||s.description?(i(),c(e(J),{key:1},{default:u(()=>[d(y.$slots,"description",{},()=>[F(A(o.description),1)])]),_:3})):b("",!0)]),_:3})):b("",!0),d(y.$slots,"content",{},()=>{var R,j,x;return[s.header||o.title||s.title||o.description||s.description||o.close||s.close?(i(),q("div",{key:0,class:h(p.value.header({class:(R=t.ui)==null?void 0:R.header}))},[d(y.$slots,"header",{},()=>{var N,V,L;return[fe("div",{class:h(p.value.wrapper({class:(N=t.ui)==null?void 0:N.wrapper}))},[o.title||s.title?(i(),c(e(Q),{key:0,class:h(p.value.title({class:(V=t.ui)==null?void 0:V.title}))},{default:u(()=>[d(y.$slots,"title",{},()=>[F(A(o.title),1)])]),_:3},8,["class"])):b("",!0),o.description||s.description?(i(),c(e(J),{key:1,class:h(p.value.description({class:(L=t.ui)==null?void 0:L.description}))},{default:u(()=>[d(y.$slots,"description",{},()=>[F(A(o.description),1)])]),_:3},8,["class"])):b("",!0)],2),o.close||s.close?(i(),c(e(Be),{key:0,"as-child":""},{default:u(()=>[d(y.$slots,"close",{ui:p.value},()=>{var z;return[o.close?(i(),c(me,$({key:0,icon:o.closeIcon||e(g).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":e(m)("modal.close")},typeof o.close=="object"?o.close:{},{class:p.value.close({class:(z=t.ui)==null?void 0:z.close})}),null,16,["icon","aria-label","class"])):b("",!0)]})]),_:3})):b("",!0)]})],2)):b("",!0),s.body?(i(),q("div",{key:1,class:h(p.value.body({class:(j=t.ui)==null?void 0:j.body}))},[d(y.$slots,"body")],2)):b("",!0),s.footer?(i(),q("div",{key:2,class:h(p.value.footer({class:(x=t.ui)==null?void 0:x.footer}))},[d(y.$slots,"footer")],2)):b("",!0)]})]),_:3},16,["class"])]}),_:3},16)]),_:3},16))}};export{Re as _,Ee as a,Pe as b,ke as c,he as d,Q as e,J as f,Be as g,Oe as h};
